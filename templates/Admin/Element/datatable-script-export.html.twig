<script src="{{ asset('js/scripts/dataTable/dataTables.buttons.min.js') }}"></script>
<script src="{{ asset('js/scripts/dataTable/pdfmake.min.js') }}"></script>
<script src="{{ asset('js/scripts/dataTable/vfs_fonts.js') }}"></script>
<script src="{{ asset('js/scripts/dataTable/buttons.html5.min.js') }}"></script>

<script>
    function exportDatatablePDF(){
        $('.btn-export-pdf').click(function(){
            $('.loading-custom').removeClass('hidden') ;
            
            var _this = $(this) ;
            var aria  = _this.data('aria') ;
            
            $('button[aria-controls="'+aria+'"]').trigger('click', function(){
                
            });

            setTimeout(function(){
                    
                $('.dt-button-collection > button[aria-controls="'+aria+'"]').click();
                $('.loading-custom').addClass('hidden') ;
            }, 3000);
        }) ;
    }

    /**
    * Init datatable
    **/
    function initiDataTable(_element, _column, _order){
        

        $(_element).DataTable({
                
            order: [_order],
           
            //dom: '<"card-header border-bottom p-1"<"head-label"><"dt-action-buttons text-end"B>><"d-flex justify-content-between align-items-center mx-0 row"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6"f>>t<"d-flex justify-content-between mx-0 row"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>',
            dom: 'Bfrtip',
            displayLength: 100,
            lengthMenu: [100],
            buttons: [
            {
                extend: 'collection',
                className: 'btn btn-outline-secondary dropdown-toggle me-2',
                text: feather.icons['share'].toSvg({ class: 'font-small-4 me-50' }) + 'Export' ,
                buttons: {
                        extend: 'pdf',
                        text: feather.icons['clipboard'].toSvg({ class: 'font-small-4 me-50' }) + 'Pdf',
                        //className: 'dropdown-item',
                        exportOptions: { columns: _column }, 
                        title: function () { return $(_element+'-title').html(); },
                    },
                /*
                buttons: [
                    
                    {
                    extend: 'csv',
                    text: feather.icons['file-text'].toSvg({ class: 'font-small-4 me-50' }) + 'Csv',
                    className: 'dropdown-item',
                    exportOptions: { columns: [0, 1, 2] }
                    },
                    
                    {
                    extend: 'excel',
                    text: feather.icons['file'].toSvg({ class: 'font-small-4 me-50' }) + 'Excel',
                    className: 'dropdown-item',
                    exportOptions: { columns: [0, 1, 2] }
                    },
                    
                    {
                        extend: 'pdf',
                        text: feather.icons['clipboard'].toSvg({ class: 'font-small-4 me-50' }) + 'Pdf',
                        //className: 'dropdown-item',
                        exportOptions: { columns: _column }, 
                        title: function () { return $(_element+'-title').html(); },
                    },
                    
                    {
                    extend: 'copy',
                    text: feather.icons['copy'].toSvg({ class: 'font-small-4 me-50' }) + 'Copy',
                    className: 'dropdown-item',
                    exportOptions: { columns: [0, 1, 2, 3, 4, 5] }
                    }
                    
                ],
                */
                init: function (api, node, config) {
                  
                    $(node).removeClass('btn-secondary');
                    $(node).parent().removeClass('btn-group');
                    setTimeout(function () {
                    $(node).closest('.dt-buttons').removeClass('btn-group').addClass('d-inline-flex');
                    }, 50);
                }
            },
            
        ]
        }) ;


    }
</script>